{"version":3,"sources":["webpack:///./src/action-creators.js","webpack:///./src/reducers/action-types.js","webpack:///./src/reducers/elementary-ca.js","webpack:///./src/reducers/index.js","webpack:///./src/store.js","webpack:///./src/components/layout.js","webpack:///./src/components/page-wrapper.js","webpack:///./src/components/icons.js","webpack:///./src/components/refresh-button.js","webpack:///./src/components/play-pause-button.js","webpack:///./src/components/rule-input.js","webpack:///./src/components/controls.js","webpack:///./src/components/p5-wrapper.js","webpack:///./src/p5-sketches/elementary-cellular-automata/ca.js","webpack:///./src/p5-sketches/elementary-cellular-automata/index.js","webpack:///./src/pages/index.js","webpack:///./assets/img/favicon.ico"],"names":["action_creators","dispatch","setElementaryCARule","rule","type","actionTypes","payload","setElementaryCAState","state","initialState","refreshSketch","playing","play","pause","combineReducers","elementaryCA","_ref","Object","assign","store","createStore","reducers","Layout","render","children","this","props","react_default","a","createElement","layout_Wrapper","Helmet","name","content","rel","href","favicon","React","Component","Wrapper","styled","div","withConfig","displayName","componentId","PageWrapper","Comp","_React$Component","apply","arguments","inheritsLoose_default","prototype","es","components_layout","Refresh","index_esm","Play","Pause","RefreshButton","_this$props","extraCss","onClick","refresh_button_Wrapper","icons_Refresh","size","PlayStopButton","_this$props$extraCss","_this$props$playing","_this$props$onClick","play_pause_button_Wrapper","icons_Pause","icons_Play","RuleInput","min","max","_this$props$disabled","disabled","_this$props$value","value","_this$props$onChange","onChange","_this$props$onKeyPres","onKeyPress","rule_input_Wrapper","Controls","onClickRefreshButton","refreshElementaryCASketch","_this","onClickPlayPauseButton","e","elementaryCAPlaying","playElementaryCA","pauseElementaryCA","onChangeRuleInput","target","onKeyPressRuleInput","_this$props2","key","_this$props3","elementaryCARule","controls_Wrapper","refresh_button","play_pause_button","rule_input","connect","actionCreators","P5Wrapper","componentDidMount","p5","require","sketch","p5Instance","wrapper","setSketchProps","componentWillReceiveProps","newProps","ref","CA","p","w","resetProps","cells","Array","Math","floor","width","fill","length","generation","random","ruleSet","ruleToRuleSet","generate","map","c","i","left","me","right","rules","display","_this2","forEach","noStroke","rect","b","toString","split","v","parseInt","complement","concat","ca","caRule","caRuleBackup","setElementaryCAStateToRedux","undefined","isNaN","validateCARule","background","loop","noLoop","setup","createCanvas","windowWidth","windowHeight","frameRate","draw","height","windowResized","resizeCanvas","HomePage","elementaryCAP5Wrapper","pages_Wrapper","controls","p5_wrapper","elementaryCASketch","module","exports"],"mappings":"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","file":"component---src-pages-index-js-6d87112e506dbf861d9d.js","sourcesContent":["import * as actionTypes from './reducers/action-types'\r\n\r\nexport default function(dispatch) {\r\n  return {\r\n    setElementaryCARule: rule => {\r\n      dispatch({ type: actionTypes.SET_ELEMENTARY_CA_RULE, payload: rule })\r\n    },\r\n\r\n    setElementaryCAState: state => {\r\n      dispatch({\r\n        type: actionTypes.SET_ELEMENTARY_CA_STATE,\r\n        payload: state,\r\n      })\r\n    },\r\n  }\r\n}\r\n","export const SET_ELEMENTARY_CA_STATE = 'SET_ELEMENTARY_CA_STATE'\r\n","import { SET_ELEMENTARY_CA_STATE } from './action-types'\r\n\r\nconst initialState = {\r\n  rule: '',\r\n  refreshSketch: () => {},\r\n  playing: true,\r\n  play: () => {},\r\n  pause: () => {},\r\n}\r\n\r\nexport default function(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_ELEMENTARY_CA_STATE:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport elementaryCA from './elementary-ca'\r\n\r\nexport default combineReducers({ elementaryCA })\r\n","import { createStore } from 'redux'\r\nimport reducers from './reducers'\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(reducers, initialState)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nimport favicon from '../../assets/img/favicon.ico'\r\nimport './layout.css'\r\n\r\nclass Layout extends React.Component {\r\n  render() {\r\n    let { children } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Helmet>\r\n          <title>Gatsby Starter</title>\r\n          <meta name=\"description\" content=\"Gatsby starter...\" />\r\n          <link rel=\"icon\" href={favicon} />\r\n        </Helmet>\r\n        {children}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store from '../store'\r\nimport Layout from './layout'\r\n\r\nconst PageWrapper = Comp => {\r\n  class Wrapper extends React.Component {\r\n    render() {\r\n      return (\r\n        <Provider store={store}>\r\n          <Layout {...this.props}>\r\n            <Comp {...this.props} />\r\n          </Layout>\r\n        </Provider>\r\n      )\r\n    }\r\n  }\r\n\r\n  Wrapper.displayName = `Wrapper-of-${Comp.displayName || Comp.name}`\r\n\r\n  return Wrapper\r\n}\r\n\r\nexport default PageWrapper\r\n","import React from 'react'\r\nimport { MdRefresh, MdPlayArrow, MdPause, MdStop } from 'react-icons/md'\r\n\r\nexport const Refresh = props => <MdRefresh {...props} />\r\nexport const Play = props => <MdPlayArrow {...props} />\r\nexport const Pause = props => <MdPause {...props} />\r\nexport const Stop = props => <MdStop {...props} />\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Refresh } from './icons'\r\n\r\nclass RefreshButton extends React.Component {\r\n  render() {\r\n    let { extraCss, onClick } = this.props\r\n\r\n    return (\r\n      <Wrapper extraCss={extraCss} onClick={onClick}>\r\n        <Refresh size={20} />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default RefreshButton\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Play, Pause } from './icons'\r\n\r\nclass PlayStopButton extends React.Component {\r\n  render() {\r\n    let { extraCss = '', playing = true, onClick = () => {} } = this.props\r\n\r\n    return (\r\n      <Wrapper extraCss={extraCss} onClick={onClick}>\r\n        {playing ? <Pause size={20} /> : <Play size={20} />}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default PlayStopButton\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nclass RuleInput extends React.Component {\r\n  render() {\r\n    let {\r\n      min,\r\n      max,\r\n      disabled = false,\r\n      value = '',\r\n      onChange = () => {},\r\n      onKeyPress = () => {},\r\n    } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <label>Rule</label>\r\n        <input\r\n          type=\"number\"\r\n          min={min}\r\n          max={max}\r\n          disabled={disabled}\r\n          value={value}\r\n          onChange={onChange}\r\n          onKeyPress={onKeyPress}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 5px;\r\n  padding: 5px 10px;\r\n  background: #ccc;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & > label {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  & > input {\r\n    width: 45px;\r\n    text-align: right;\r\n  }\r\n`\r\n\r\nexport default RuleInput\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport actionCreators from '../action-creators'\r\nimport RefreshButton from './refresh-button'\r\nimport PlayPauseButton from './play-pause-button'\r\nimport RuleInput from './rule-input'\r\n\r\nclass Controls extends React.Component {\r\n  render() {\r\n    let { extraCss, elementaryCAPlaying, elementaryCARule } = this.props\r\n\r\n    return (\r\n      <Wrapper extraCss={extraCss}>\r\n        <RefreshButton\r\n          extraCss={`margin-right: 5px;`}\r\n          onClick={this.onClickRefreshButton}\r\n        />\r\n        <PlayPauseButton\r\n          extraCss={`margin-right: 5px;`}\r\n          playing={elementaryCAPlaying}\r\n          onClick={this.onClickPlayPauseButton}\r\n        />\r\n        <RuleInput\r\n          min=\"0\"\r\n          max=\"255\"\r\n          disabled={elementaryCAPlaying}\r\n          value={elementaryCARule}\r\n          onChange={this.onChangeRuleInput}\r\n          onKeyPress={this.onKeyPressRuleInput}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  onClickRefreshButton = () => {\r\n    let { refreshElementaryCASketch } = this.props\r\n\r\n    refreshElementaryCASketch()\r\n  }\r\n\r\n  onClickPlayPauseButton = e => {\r\n    let {\r\n      elementaryCAPlaying,\r\n      playElementaryCA,\r\n      pauseElementaryCA,\r\n      setElementaryCAState,\r\n    } = this.props\r\n\r\n    if (elementaryCAPlaying) {\r\n      pauseElementaryCA()\r\n    } else {\r\n      playElementaryCA()\r\n    }\r\n    setElementaryCAState({ playing: !elementaryCAPlaying })\r\n  }\r\n\r\n  onChangeRuleInput = e => {\r\n    let { setElementaryCAState } = this.props\r\n\r\n    setElementaryCAState({ rule: e.target.value })\r\n  }\r\n\r\n  onKeyPressRuleInput = e => {\r\n    let {\r\n      playElementaryCA,\r\n      setElementaryCAState,\r\n      elementaryCAPlaying,\r\n    } = this.props\r\n\r\n    if (e.key === 'Enter') {\r\n      playElementaryCA()\r\n      setElementaryCAState({ playing: !elementaryCAPlaying })\r\n    }\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default connect(\r\n  state => ({\r\n    refreshElementaryCASketch: state.elementaryCA.refreshSketch,\r\n    elementaryCAPlaying: state.elementaryCA.playing,\r\n    playElementaryCA: state.elementaryCA.play,\r\n    pauseElementaryCA: state.elementaryCA.pause,\r\n    elementaryCARule: state.elementaryCA.rule,\r\n  }),\r\n  actionCreators\r\n)(Controls)\r\n","import React from 'react'\r\n\r\nclass P5Wrapper extends React.Component {\r\n  componentDidMount() {\r\n    // hack to import p5 because SSR\r\n    this.p5 = require('p5')\r\n\r\n    let { sketch } = this.props\r\n    this.p5Instance = new this.p5(sketch, this.wrapper)\r\n    if (this.p5Instance.setSketchProps) {\r\n      this.p5Instance.setSketchProps(this.props)\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if (this.p5Instance.setSketchProps) {\r\n      this.p5Instance.setSketchProps(newProps)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div ref={wrapper => (this.wrapper = wrapper)} />\r\n  }\r\n}\r\n\r\nexport default P5Wrapper\r\n","class CA {\r\n  constructor(p) {\r\n    this.w = 5\r\n    this.resetProps(p)\r\n  }\r\n\r\n  resetProps(p, rule = '') {\r\n    this.cells = Array(Math.floor(p.width / this.w)).fill(0)\r\n    this.cells[Math.floor(this.cells.length / 2)] = 1\r\n    this.generation = 0\r\n    this.rule = rule === '' ? Math.floor(p.random(0, 255)) : rule\r\n    this.ruleSet = this.ruleToRuleSet(this.rule)\r\n  }\r\n\r\n  generate() {\r\n    this.cells = this.cells.map((c, i) => {\r\n      if (i > 0 && i < this.cells.length - 1) {\r\n        let left = this.cells[i - 1]\r\n        let me = c\r\n        let right = this.cells[i + 1]\r\n\r\n        return this.rules(left, me, right)\r\n      }\r\n      return c\r\n    })\r\n\r\n    this.generation++\r\n  }\r\n\r\n  display(p) {\r\n    this.cells.forEach((c, i) => {\r\n      p.noStroke()\r\n      if (c === 1) p.fill(50)\r\n      else p.fill(255)\r\n      p.rect(i * this.w, this.generation * this.w, this.w, this.w)\r\n    })\r\n  }\r\n\r\n  rules(a, b, c) {\r\n    if (a === 1 && b === 1 && c === 1) return this.ruleSet[0]\r\n    if (a === 1 && b === 1 && c === 0) return this.ruleSet[1]\r\n    if (a === 1 && b === 0 && c === 1) return this.ruleSet[2]\r\n    if (a === 1 && b === 0 && c === 0) return this.ruleSet[3]\r\n    if (a === 0 && b === 1 && c === 1) return this.ruleSet[4]\r\n    if (a === 0 && b === 1 && c === 0) return this.ruleSet[5]\r\n    if (a === 0 && b === 0 && c === 1) return this.ruleSet[6]\r\n    if (a === 0 && b === 0 && c === 0) return this.ruleSet[7]\r\n    return 0\r\n\r\n    // let s = `${a}${b}${c}`\r\n    // let index = 7 - parseInt(s, 2)\r\n    // return this.ruleSet[index]\r\n  }\r\n\r\n  ruleToRuleSet(rule) {\r\n    let ruleSet = rule\r\n      .toString(2)\r\n      .split('')\r\n      .map(v => parseInt(v))\r\n    let complement = Array(8 - ruleSet.length).fill(0)\r\n    return [...complement, ...ruleSet]\r\n  }\r\n}\r\n\r\nexport default CA\r\n","import CA from './ca'\r\n\r\nexport default function sketch(p) {\r\n  let ca\r\n  let caRule\r\n  let caRuleBackup\r\n  let setElementaryCAStateToRedux\r\n\r\n  p.setSketchProps = props => {\r\n    if (props.caRule !== undefined) caRule = validateCARule(props.caRule)\r\n    if (props.setElementaryCAStateToRedux)\r\n      setElementaryCAStateToRedux = props.setElementaryCAStateToRedux\r\n  }\r\n\r\n  p.refreshSketch = caRule => {\r\n    p.background(255)\r\n    ca.resetProps(p, caRule)\r\n    caRule = ca.rule\r\n    caRuleBackup = ca.rule\r\n    setElementaryCAStateToRedux({ rule: ca.rule })\r\n  }\r\n\r\n  p.play = () => {\r\n    if (caRule !== caRuleBackup) {\r\n      caRuleBackup = caRule\r\n      p.refreshSketch(caRule)\r\n    }\r\n\r\n    p.loop()\r\n  }\r\n\r\n  p.pause = () => {\r\n    p.noLoop()\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(p.windowWidth, p.windowHeight)\r\n    p.frameRate(15)\r\n    p.background(255)\r\n\r\n    ca = new CA(p)\r\n    caRule = ca.rule\r\n    caRuleBackup = ca.rule\r\n    p.ca = ca\r\n  }\r\n\r\n  p.draw = function() {\r\n    ca.display(p)\r\n    if (ca.generation < Math.floor(p.height / ca.w)) {\r\n      ca.generate()\r\n    } else {\r\n      p.refreshSketch()\r\n    }\r\n  }\r\n\r\n  p.windowResized = function() {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n  }\r\n\r\n  function validateCARule(rule) {\r\n    rule = parseInt(rule)\r\n    if (isNaN(rule)) return caRuleBackup\r\n    else if (rule > 255) return 255\r\n    else if (rule < 0) return 0\r\n    return rule\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport actionCreators from '../action-creators'\r\nimport PageWrapper from '../components/page-wrapper'\r\nimport Controls from '../components/controls'\r\nimport P5Wrapper from '../components/p5-wrapper'\r\nimport elementaryCASketch from '../p5-sketches/elementary-cellular-automata'\r\n\r\nclass HomePage extends React.Component {\r\n  componentDidMount() {\r\n    let { setElementaryCAState } = this.props\r\n    setElementaryCAState({\r\n      rule: this.elementaryCAP5Wrapper.p5Instance.ca.rule,\r\n      refreshSketch: this.elementaryCAP5Wrapper.p5Instance.refreshSketch,\r\n      play: this.elementaryCAP5Wrapper.p5Instance.play,\r\n      pause: this.elementaryCAP5Wrapper.p5Instance.pause,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { elementaryCARule, setElementaryCAState } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Controls\r\n          extraCss={`\r\n            position: absolute;\r\n            top: 10px;\r\n            left: 15px;\r\n          `}\r\n        />\r\n        <P5Wrapper\r\n          sketch={elementaryCASketch}\r\n          caRule={elementaryCARule}\r\n          setElementaryCAStateToRedux={setElementaryCAState}\r\n          ref={elementaryCAP5Wrapper =>\r\n            (this.elementaryCAP5Wrapper = elementaryCAP5Wrapper)\r\n          }\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport default PageWrapper(\r\n  connect(\r\n    state => ({\r\n      elementaryCARule: state.elementaryCA.rule,\r\n    }),\r\n    actionCreators\r\n  )(HomePage)\r\n)\r\n","module.exports = \"data:image/vnd.microsoft.icon;base64,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\""],"sourceRoot":""}