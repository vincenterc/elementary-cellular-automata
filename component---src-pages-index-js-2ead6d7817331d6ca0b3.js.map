{"version":3,"sources":["webpack:///./src/action-creators.js","webpack:///./src/reducers/action-types.js","webpack:///./src/reducers/elementary-ca.js","webpack:///./src/reducers/index.js","webpack:///./src/store.js","webpack:///./src/components/layout.js","webpack:///./src/components/page-wrapper.js","webpack:///./src/components/icons.js","webpack:///./src/components/round-button.js","webpack:///./src/components/rule-input.js","webpack:///./src/components/controls.js","webpack:///./src/components/p5-wrapper.js","webpack:///./src/p5-sketches/elementary-cellular-automaton/ca.js","webpack:///./src/p5-sketches/elementary-cellular-automaton/index.js","webpack:///./src/components/start-modal.js","webpack:///./src/pages/index.js"],"names":["action_creators","dispatch","setElementaryCAState","state","type","payload","initialState","rule","playing","refreshSketch","play","pause","combineReducers","elementaryCA","_ref","Object","assign","store","createStore","reducers","Layout","render","children","this","props","react_default","a","createElement","layout_Wrapper","Helmet","name","content","React","Component","Wrapper","styled","div","withConfig","displayName","componentId","PageWrapper","Comp","_React$Component","apply","arguments","inheritsLoose_default","prototype","es","components_layout","Refresh","index_esm","Play","Pause","RoundButton","_this$props","_this$props$extraCss","extraCss","_this$props$onClick","onClick","round_button_Wrapper","RuleInput","min","max","_this$props$disabled","disabled","_this$props$value","value","_this$props$onChange","onChange","_this$props$onKeyPres","onKeyPress","rule_input_Wrapper","Controls","onClickRefreshButton","refreshElementaryCASketch","_this","onClickPlayPauseButton","e","elementaryCAPlaying","playElementaryCA","pauseElementaryCA","onChangeRuleInput","target","onKeyPressRuleInput","key","_this$props2","elementaryCARule","controls_Wrapper","round_button","icons_Refresh","size","icons_Pause","icons_Play","rule_input","connect","actionCreators","P5Wrapper","componentDidMount","p5","require","sketch","exposeSketchCustomProps","p5Instance","wrapper","setSketchProps","customProps","componentWillReceiveProps","newProps","ref","CA","p","w","resetProps","cells","Array","Math","floor","width","fill","length","generation","random","ruleSet","ruleToRuleSet","generate","map","c","i","left","me","right","rules","display","_this2","forEach","noStroke","rect","b","toString","split","v","parseInt","complement","concat","ca","caRule","caRuleBackup","setStateToRedux","undefined","isNaN","validateCARule","background","loop","noLoop","setup","createCanvas","windowWidth","windowHeight","frameRate","draw","height","windowResized","resizeCanvas","Title","h1","Content","ItemList","Item","Description","RoundBorder","span","StartButton","StartModal","onClickStartButton","start_modal_Wrapper","HomePage","showStartModal","handleExposeSketchCustomProps","handleClickStartButton","setState","pages_Wrapper","controls","p5_wrapper","elementaryCASketch","elementaryCAP5Wrapper","start_modal"],"mappings":"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","file":"component---src-pages-index-js-2ead6d7817331d6ca0b3.js","sourcesContent":["import * as actionTypes from './reducers/action-types'\r\n\r\nexport default function(dispatch) {\r\n  return {\r\n    setElementaryCAState: state => {\r\n      dispatch({\r\n        type: actionTypes.SET_ELEMENTARY_CA_STATE,\r\n        payload: state,\r\n      })\r\n    },\r\n  }\r\n}\r\n","export const SET_ELEMENTARY_CA_STATE = 'SET_ELEMENTARY_CA_STATE'\r\n","import { SET_ELEMENTARY_CA_STATE } from './action-types'\r\n\r\nconst initialState = {\r\n  rule: '',\r\n  playing: false,\r\n  refreshSketch: () => {},\r\n  play: () => {},\r\n  pause: () => {},\r\n}\r\n\r\nexport default function(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SET_ELEMENTARY_CA_STATE:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport elementaryCA from './elementary-ca'\r\n\r\nexport default combineReducers({ elementaryCA })\r\n","import { createStore } from 'redux'\r\nimport reducers from './reducers'\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(reducers, initialState)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Helmet } from 'react-helmet'\r\n\r\n// import favicon from '../../assets/img/favicon.ico'\r\nimport './layout.css'\r\n\r\nclass Layout extends React.Component {\r\n  render() {\r\n    let { children } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Helmet>\r\n          <title>Elementary Cellular Automaton</title>\r\n          <meta\r\n            name=\"description\"\r\n            content=\"The implementation of elementary cellular automaton.\"\r\n          />\r\n          {/* <link rel=\"icon\" href={favicon} /> */}\r\n        </Helmet>\r\n        {children}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div``\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store from '../store'\r\nimport Layout from './layout'\r\n\r\nconst PageWrapper = Comp => {\r\n  class Wrapper extends React.Component {\r\n    render() {\r\n      return (\r\n        <Provider store={store}>\r\n          <Layout {...this.props}>\r\n            <Comp {...this.props} />\r\n          </Layout>\r\n        </Provider>\r\n      )\r\n    }\r\n  }\r\n\r\n  Wrapper.displayName = `Wrapper-of-${Comp.displayName || Comp.name}`\r\n\r\n  return Wrapper\r\n}\r\n\r\nexport default PageWrapper\r\n","import React from 'react'\r\nimport { MdRefresh, MdPlayArrow, MdPause, MdStop } from 'react-icons/md'\r\n\r\nexport const Refresh = props => <MdRefresh {...props} />\r\nexport const Play = props => <MdPlayArrow {...props} />\r\nexport const Pause = props => <MdPause {...props} />\r\nexport const Stop = props => <MdStop {...props} />\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nclass RoundButton extends React.Component {\r\n  render() {\r\n    let { extraCss = '', onClick = () => {}, children } = this.props\r\n\r\n    return (\r\n      <Wrapper extraCss={extraCss} onClick={onClick}>\r\n        {children}\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default RoundButton\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nclass RuleInput extends React.Component {\r\n  render() {\r\n    let {\r\n      min,\r\n      max,\r\n      disabled = false,\r\n      value = '',\r\n      onChange = () => {},\r\n      onKeyPress = () => {},\r\n    } = this.props\r\n\r\n    return (\r\n      <Wrapper>\r\n        <label>Rule</label>\r\n        <input\r\n          type=\"number\"\r\n          min={min}\r\n          max={max}\r\n          disabled={disabled}\r\n          value={value}\r\n          onChange={onChange}\r\n          onKeyPress={onKeyPress}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 5px;\r\n  padding: 5px 10px;\r\n  background: #ccc;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & > label {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  & > input {\r\n    width: 45px;\r\n    text-align: right;\r\n  }\r\n`\r\n\r\nexport default RuleInput\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport actionCreators from '../action-creators'\r\nimport * as Icons from './icons'\r\nimport RoundButton from './round-button'\r\nimport RuleInput from './rule-input'\r\n\r\nclass Controls extends React.Component {\r\n  render() {\r\n    let { extraCss, elementaryCAPlaying, elementaryCARule } = this.props\r\n\r\n    return (\r\n      <Wrapper extraCss={extraCss}>\r\n        <RoundButton\r\n          extraCss={`margin-right: 5px;`}\r\n          onClick={this.onClickRefreshButton}\r\n        >\r\n          <Icons.Refresh size={20} />\r\n        </RoundButton>\r\n\r\n        <RoundButton\r\n          extraCss={`margin-right: 5px;`}\r\n          onClick={this.onClickPlayPauseButton}\r\n        >\r\n          {elementaryCAPlaying ? (\r\n            <Icons.Pause size={20} />\r\n          ) : (\r\n            <Icons.Play size={20} />\r\n          )}\r\n        </RoundButton>\r\n\r\n        <RuleInput\r\n          min=\"0\"\r\n          max=\"255\"\r\n          disabled={elementaryCAPlaying}\r\n          value={elementaryCARule}\r\n          onChange={this.onChangeRuleInput}\r\n          onKeyPress={this.onKeyPressRuleInput}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  onClickRefreshButton = () => {\r\n    let { refreshElementaryCASketch } = this.props\r\n\r\n    refreshElementaryCASketch()\r\n  }\r\n\r\n  onClickPlayPauseButton = e => {\r\n    let {\r\n      elementaryCAPlaying,\r\n      playElementaryCA,\r\n      pauseElementaryCA,\r\n    } = this.props\r\n\r\n    if (elementaryCAPlaying) {\r\n      pauseElementaryCA()\r\n    } else {\r\n      playElementaryCA()\r\n    }\r\n  }\r\n\r\n  onChangeRuleInput = e => {\r\n    let { setElementaryCAState } = this.props\r\n\r\n    setElementaryCAState({ rule: e.target.value })\r\n  }\r\n\r\n  onKeyPressRuleInput = e => {\r\n    let { playElementaryCA } = this.props\r\n\r\n    if (e.key === 'Enter') {\r\n      playElementaryCA()\r\n    }\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nexport default connect(\r\n  state => ({\r\n    refreshElementaryCASketch: state.elementaryCA.refreshSketch,\r\n    elementaryCAPlaying: state.elementaryCA.playing,\r\n    playElementaryCA: state.elementaryCA.play,\r\n    pauseElementaryCA: state.elementaryCA.pause,\r\n    elementaryCARule: state.elementaryCA.rule,\r\n  }),\r\n  actionCreators\r\n)(Controls)\r\n","import React from 'react'\r\n\r\nclass P5Wrapper extends React.Component {\r\n  componentDidMount() {\r\n    // hack to import p5 because SSR\r\n    this.p5 = require('p5')\r\n\r\n    let { sketch, exposeSketchCustomProps } = this.props\r\n    this.p5Instance = new this.p5(sketch, this.wrapper)\r\n    if (this.p5Instance.setSketchProps) {\r\n      this.p5Instance.setSketchProps(this.props)\r\n    }\r\n    exposeSketchCustomProps(this.p5Instance.customProps)\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if (this.p5Instance.setSketchProps) {\r\n      this.p5Instance.setSketchProps(newProps)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div ref={wrapper => (this.wrapper = wrapper)} />\r\n  }\r\n}\r\n\r\nexport default P5Wrapper\r\n","class CA {\r\n  constructor(p) {\r\n    this.w = 5\r\n    this.resetProps(p)\r\n  }\r\n\r\n  resetProps(p, rule = '') {\r\n    this.cells = Array(Math.floor(p.width / this.w)).fill(0)\r\n    this.cells[Math.floor(this.cells.length / 2)] = 1\r\n    this.generation = 0\r\n    this.rule = rule === '' ? Math.floor(p.random(0, 255)) : rule\r\n    this.ruleSet = this.ruleToRuleSet(this.rule)\r\n  }\r\n\r\n  generate() {\r\n    this.cells = this.cells.map((c, i) => {\r\n      if (i > 0 && i < this.cells.length - 1) {\r\n        let left = this.cells[i - 1]\r\n        let me = c\r\n        let right = this.cells[i + 1]\r\n\r\n        return this.rules(left, me, right)\r\n      }\r\n      return c\r\n    })\r\n\r\n    this.generation++\r\n  }\r\n\r\n  display(p) {\r\n    this.cells.forEach((c, i) => {\r\n      p.noStroke()\r\n      if (c === 1) p.fill(50)\r\n      else p.fill(255)\r\n      p.rect(i * this.w, this.generation * this.w, this.w, this.w)\r\n    })\r\n  }\r\n\r\n  rules(a, b, c) {\r\n    if (a === 1 && b === 1 && c === 1) return this.ruleSet[0]\r\n    if (a === 1 && b === 1 && c === 0) return this.ruleSet[1]\r\n    if (a === 1 && b === 0 && c === 1) return this.ruleSet[2]\r\n    if (a === 1 && b === 0 && c === 0) return this.ruleSet[3]\r\n    if (a === 0 && b === 1 && c === 1) return this.ruleSet[4]\r\n    if (a === 0 && b === 1 && c === 0) return this.ruleSet[5]\r\n    if (a === 0 && b === 0 && c === 1) return this.ruleSet[6]\r\n    if (a === 0 && b === 0 && c === 0) return this.ruleSet[7]\r\n    return 0\r\n\r\n    // let s = `${a}${b}${c}`\r\n    // let index = 7 - parseInt(s, 2)\r\n    // return this.ruleSet[index]\r\n  }\r\n\r\n  ruleToRuleSet(rule) {\r\n    let ruleSet = rule\r\n      .toString(2)\r\n      .split('')\r\n      .map(v => parseInt(v))\r\n    let complement = Array(8 - ruleSet.length).fill(0)\r\n    return [...complement, ...ruleSet]\r\n  }\r\n}\r\n\r\nexport default CA\r\n","import CA from './ca'\r\n\r\nexport default function sketch(p) {\r\n  let ca\r\n  let caRule\r\n  let caRuleBackup\r\n  let setStateToRedux\r\n\r\n  p.setSketchProps = props => {\r\n    if (props.caRule !== undefined) caRule = validateCARule(props.caRule)\r\n    if (props.setStateToRedux) setStateToRedux = props.setStateToRedux\r\n  }\r\n\r\n  p.customProps = {}\r\n\r\n  p.customProps.refreshSketch = caRule => {\r\n    p.background(255)\r\n    ca.resetProps(p, caRule)\r\n    caRule = ca.rule\r\n    caRuleBackup = ca.rule\r\n    setStateToRedux({ rule: ca.rule })\r\n  }\r\n\r\n  p.customProps.play = () => {\r\n    if (caRule !== caRuleBackup) {\r\n      caRuleBackup = caRule\r\n      p.customProps.refreshSketch(caRule)\r\n    }\r\n    setStateToRedux({ playing: true })\r\n    p.loop()\r\n  }\r\n\r\n  p.customProps.pause = () => {\r\n    setStateToRedux({ playing: false })\r\n    p.noLoop()\r\n  }\r\n\r\n  p.setup = function() {\r\n    p.createCanvas(p.windowWidth, p.windowHeight)\r\n    p.frameRate(15)\r\n    p.background(255)\r\n    p.noLoop()\r\n\r\n    ca = new CA(p)\r\n    caRule = ca.rule\r\n    caRuleBackup = ca.rule\r\n    p.customProps.rule = ca.rule\r\n  }\r\n\r\n  p.draw = function() {\r\n    ca.display(p)\r\n    if (ca.generation < Math.floor(p.height / ca.w)) {\r\n      ca.generate()\r\n    } else {\r\n      p.customProps.refreshSketch()\r\n    }\r\n  }\r\n\r\n  p.windowResized = function() {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n  }\r\n\r\n  function validateCARule(rule) {\r\n    rule = parseInt(rule)\r\n    if (isNaN(rule)) return caRuleBackup\r\n    else if (rule > 255) return 255\r\n    else if (rule < 0) return 0\r\n    return rule\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport * as Icons from './icons'\r\n\r\nfunction StartModal(props) {\r\n  let { onClickStartButton } = props\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Title>Elementary Cellular Automaton</Title>\r\n\r\n      <Content>\r\n        <ItemList>\r\n          <Item extraCss=\"margin-bottom: 5px;\">\r\n            <RoundBorder extraCss=\"margin-right: 5px;\">\r\n              <Icons.Refresh size={14} />\r\n            </RoundBorder>\r\n            Refresh\r\n          </Item>\r\n\r\n          <Item extraCss=\"margin-bottom: 5px;\">\r\n            <RoundBorder extraCss=\"margin-right: 5px;\">\r\n              <Icons.Play size={14} />\r\n            </RoundBorder>\r\n            Play\r\n          </Item>\r\n\r\n          <Item extraCss=\"margin-bottom: 5px;\">\r\n            <RoundBorder extraCss=\"margin-right: 5px;\">\r\n              <Icons.Pause size={14} />\r\n            </RoundBorder>\r\n            Pause\r\n          </Item>\r\n        </ItemList>\r\n\r\n        <Description>\r\n          You can pause and enter the rule, between 0 and 255, that you want\r\n        </Description>\r\n      </Content>\r\n\r\n      <StartButton onClick={onClickStartButton}>START</StartButton>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 100;\r\n  background: rgba(64, 70, 82, 0.7);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n`\r\n\r\nconst Title = styled.h1`\r\n  margin-bottom: 10px;\r\n  text-align: center;\r\n`\r\n\r\nconst Content = styled.div`\r\n  margin-bottom: 10px;\r\n  font-size: 18px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst ItemList = styled.div``\r\n\r\nconst Item = styled.p`\r\n  display: flex;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nconst Description = styled.p`\r\n  padding: 0 5px;\r\n  text-align: center;\r\n`\r\n\r\nconst RoundBorder = styled.span`\r\n  border: 1px solid white;\r\n  border-radius: 50px;\r\n  padding: 2px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.extraCss}\r\n`\r\n\r\nconst StartButton = styled.div`\r\n  border: 2px solid white;\r\n  border-radius: 3px;\r\n  padding: 6px 12px;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n`\r\n\r\nexport default StartModal\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport actionCreators from '../action-creators'\r\nimport PageWrapper from '../components/page-wrapper'\r\nimport Controls from '../components/controls'\r\nimport P5Wrapper from '../components/p5-wrapper'\r\nimport elementaryCASketch from '../p5-sketches/elementary-cellular-automaton'\r\nimport StartModal from '../components/start-modal'\r\n\r\nclass HomePage extends React.Component {\r\n  state = {\r\n    showStartModal: true,\r\n  }\r\n\r\n  render() {\r\n    let { elementaryCARule, setElementaryCAState } = this.props\r\n    let { showStartModal } = this.state\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Controls\r\n          extraCss={`\r\n            position: absolute;\r\n            top: 10px;\r\n            left: 15px;\r\n          `}\r\n        />\r\n\r\n        <P5Wrapper\r\n          sketch={elementaryCASketch}\r\n          caRule={elementaryCARule}\r\n          setStateToRedux={setElementaryCAState}\r\n          exposeSketchCustomProps={this.handleExposeSketchCustomProps}\r\n          ref={elementaryCAP5Wrapper =>\r\n            (this.elementaryCAP5Wrapper = elementaryCAP5Wrapper)\r\n          }\r\n        />\r\n\r\n        {showStartModal && (\r\n          <StartModal onClickStartButton={this.handleClickStartButton} />\r\n        )}\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  handleExposeSketchCustomProps = props => {\r\n    let { setElementaryCAState } = this.props\r\n\r\n    setElementaryCAState(props)\r\n  }\r\n\r\n  handleClickStartButton = () => {\r\n    let { playElementaryCA } = this.props\r\n\r\n    playElementaryCA()\r\n    this.setState({ showStartModal: false })\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport default PageWrapper(\r\n  connect(\r\n    state => ({\r\n      elementaryCARule: state.elementaryCA.rule,\r\n      playElementaryCA: state.elementaryCA.play,\r\n    }),\r\n    actionCreators\r\n  )(HomePage)\r\n)\r\n"],"sourceRoot":""}