(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{141:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),i=n(0),o=n.n(i),l=n(145),s=n(142),u=function(e){return{setElementaryCARule:function(t){e({type:void 0,payload:t})},setElementaryCAState:function(t){e({type:"SET_ELEMENTARY_CA_STATE",payload:t})}}},p=(n(152),n(144)),c=(n(34),{rule:"",refreshSketch:function(){},playing:!0,play:function(){},pause:function(){}}),h=Object(p.b)({elementaryCA:function(e,t){void 0===e&&(e=c);var n=t.type,r=t.payload;switch(n){case"SET_ELEMENTARY_CA_STATE":return Object.assign({},e,r);default:return e}}}),f=Object(p.c)(h,{}),m=n(153),y=(n(159),function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props.children;return o.a.createElement(d,null,o.a.createElement(m.Helmet,null,o.a.createElement("title",null,"Elementary Cellular Automaton"),o.a.createElement("meta",{name:"description",content:"The implementation of elementary cellular automaton."})),e)},t}(o.a.Component)),d=s.a.div.withConfig({displayName:"layout__Wrapper",componentId:"sc-1k8hpc5-0"})([""]),C=y,g=function(e){var t=function(t){function n(){return t.apply(this,arguments)||this}return a()(n,t),n.prototype.render=function(){return o.a.createElement(l.a,{store:f},o.a.createElement(C,this.props,o.a.createElement(e,this.props)))},n}(o.a.Component);return t.displayName="Wrapper-of-"+(e.displayName||e.name),t},E=n(170),v=function(e){return o.a.createElement(E.c,e)},A=function(e){return o.a.createElement(E.b,e)},w=function(e){return o.a.createElement(E.a,e)},S=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.extraCss,n=e.onClick;return o.a.createElement(x,{extraCss:t,onClick:n},o.a.createElement(v,{size:20}))},t}(o.a.Component),x=s.a.div.withConfig({displayName:"refresh-button__Wrapper",componentId:"sc-1siw4tw-0"})(["width:30px;height:30px;border-radius:50%;background:#ccc;display:flex;justify-content:center;align-items:center;",""],function(e){return e.extraCss}),k=S,b=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.extraCss,n=void 0===t?"":t,r=e.playing,a=void 0===r||r,i=e.onClick,l=void 0===i?function(){}:i;return o.a.createElement(P,{extraCss:n,onClick:l},a?o.a.createElement(w,{size:20}):o.a.createElement(A,{size:20}))},t}(o.a.Component),P=s.a.div.withConfig({displayName:"play-pause-button__Wrapper",componentId:"sc-9dd7ip-0"})(["width:30px;height:30px;border-radius:50%;background:#ccc;display:flex;justify-content:center;align-items:center;",""],function(e){return e.extraCss}),R=b,I=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.min,n=e.max,r=e.disabled,a=void 0!==r&&r,i=e.value,l=void 0===i?"":i,s=e.onChange,u=void 0===s?function(){}:s,p=e.onKeyPress,c=void 0===p?function(){}:p;return o.a.createElement(_,null,o.a.createElement("label",null,"Rule"),o.a.createElement("input",{type:"number",min:t,max:n,disabled:a,value:l,onChange:u,onKeyPress:c}))},t}(o.a.Component),_=s.a.div.withConfig({displayName:"rule-input__Wrapper",componentId:"sc-1xikwrc-0"})(["border-radius:5px;padding:5px 10px;background:#ccc;display:flex;align-items:center;& > label{margin-right:5px;}& > input{width:45px;text-align:right;}"]),W=I,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onClickRefreshButton=function(){(0,t.props.refreshElementaryCASketch)()},t.onClickPlayPauseButton=function(e){var n=t.props,r=n.elementaryCAPlaying,a=n.playElementaryCA,i=n.pauseElementaryCA,o=n.setElementaryCAState;r?i():a(),o({playing:!r})},t.onChangeRuleInput=function(e){(0,t.props.setElementaryCAState)({rule:e.target.value})},t.onKeyPressRuleInput=function(e){var n=t.props,r=n.playElementaryCA,a=n.setElementaryCAState,i=n.elementaryCAPlaying;"Enter"===e.key&&(r(),a({playing:!i}))},t}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.extraCss,n=e.elementaryCAPlaying,r=e.elementaryCARule;return o.a.createElement(N,{extraCss:t},o.a.createElement(k,{extraCss:"margin-right: 5px;",onClick:this.onClickRefreshButton}),o.a.createElement(R,{extraCss:"margin-right: 5px;",playing:n,onClick:this.onClickPlayPauseButton}),o.a.createElement(W,{min:"0",max:"255",disabled:n,value:r,onChange:this.onChangeRuleInput,onKeyPress:this.onKeyPressRuleInput}))},t}(o.a.Component),N=s.a.div.withConfig({displayName:"controls__Wrapper",componentId:"sc-1cix058-0"})(["display:flex;align-items:center;",""],function(e){return e.extraCss}),M=Object(l.b)(function(e){return{refreshElementaryCASketch:e.elementaryCA.refreshSketch,elementaryCAPlaying:e.elementaryCA.playing,playElementaryCA:e.elementaryCA.play,pauseElementaryCA:e.elementaryCA.pause,elementaryCARule:e.elementaryCA.rule}},u)(T),j=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var r=t.prototype;return r.componentDidMount=function(){this.p5=n(165);var e=this.props.sketch;this.p5Instance=new this.p5(e,this.wrapper),this.p5Instance.setSketchProps&&this.p5Instance.setSketchProps(this.props)},r.componentWillReceiveProps=function(e){this.p5Instance.setSketchProps&&this.p5Instance.setSketchProps(e)},r.render=function(){var e=this;return o.a.createElement("div",{ref:function(t){return e.wrapper=t}})},t}(o.a.Component),z=(n(166),n(35),n(76),n(168),function(){function e(e){this.w=5,this.resetProps(e)}var t=e.prototype;return t.resetProps=function(e,t){void 0===t&&(t=""),this.cells=Array(Math.floor(e.width/this.w)).fill(0),this.cells[Math.floor(this.cells.length/2)]=1,this.generation=0,this.rule=""===t?Math.floor(e.random(0,255)):t,this.ruleSet=this.ruleToRuleSet(this.rule)},t.generate=function(){var e=this;this.cells=this.cells.map(function(t,n){if(n>0&&n<e.cells.length-1){var r=e.cells[n-1],a=t,i=e.cells[n+1];return e.rules(r,a,i)}return t}),this.generation++},t.display=function(e){var t=this;this.cells.forEach(function(n,r){e.noStroke(),1===n?e.fill(50):e.fill(255),e.rect(r*t.w,t.generation*t.w,t.w,t.w)})},t.rules=function(e,t,n){return 1===e&&1===t&&1===n?this.ruleSet[0]:1===e&&1===t&&0===n?this.ruleSet[1]:1===e&&0===t&&1===n?this.ruleSet[2]:1===e&&0===t&&0===n?this.ruleSet[3]:0===e&&1===t&&1===n?this.ruleSet[4]:0===e&&1===t&&0===n?this.ruleSet[5]:0===e&&0===t&&1===n?this.ruleSet[6]:0===e&&0===t&&0===n?this.ruleSet[7]:0},t.ruleToRuleSet=function(e){var t=e.toString(2).split("").map(function(e){return parseInt(e)}),n=Array(8-t.length).fill(0);return[].concat(n,t)},e}());function K(e){var t,n,r,a;e.setSketchProps=function(e){void 0!==e.caRule&&(n=function(e){if(e=parseInt(e),isNaN(e))return r;if(e>255)return 255;if(e<0)return 0;return e}(e.caRule)),e.setElementaryCAStateToRedux&&(a=e.setElementaryCAStateToRedux)},e.refreshSketch=function(n){e.background(255),t.resetProps(e,n),n=t.rule,r=t.rule,a({rule:t.rule})},e.play=function(){n!==r&&(r=n,e.refreshSketch(n)),e.loop()},e.pause=function(){e.noLoop()},e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),e.frameRate(15),e.background(255),t=new z(e),n=t.rule,r=t.rule,e.ca=t},e.draw=function(){t.display(e),t.generation<Math.floor(e.height/t.w)?t.generate():e.refreshSketch()},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight)}}var O=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,this.props.setElementaryCAState)({rule:this.elementaryCAP5Wrapper.p5Instance.ca.rule,refreshSketch:this.elementaryCAP5Wrapper.p5Instance.refreshSketch,play:this.elementaryCAP5Wrapper.p5Instance.play,pause:this.elementaryCAP5Wrapper.p5Instance.pause})},n.render=function(){var e=this,t=this.props,n=t.elementaryCARule,r=t.setElementaryCAState;return o.a.createElement(B,null,o.a.createElement(M,{extraCss:"\n            position: absolute;\n            top: 10px;\n            left: 15px;\n          "}),o.a.createElement(j,{sketch:K,caRule:n,setElementaryCAStateToRedux:r,ref:function(t){return e.elementaryCAP5Wrapper=t}}))},t}(o.a.Component),B=s.a.div.withConfig({displayName:"pages__Wrapper",componentId:"sc-1q8n35d-0"})(["position:relative;"]);t.default=g(Object(l.b)(function(e){return{elementaryCARule:e.elementaryCA.rule}},u)(O))}}]);
//# sourceMappingURL=component---src-pages-index-js-fc6d2e603e2299f3bcb5.js.map